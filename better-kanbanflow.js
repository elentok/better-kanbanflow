// Generated by CoffeeScript 1.3.3
(function() {
  var BetterKanbanflow;

  console.log("Better KanbanFlow loaded");

  BetterKanbanflow = (function() {

    function BetterKanbanflow() {
      var _this = this;
      console.log('Better KanbanFlow initializing');
      console.log($('.task-description').length);
      $('.task').each(function(index, task) {
        return _this.fixTextAlignment($(task));
      });
      document.addEventListener('DOMNodeInserted', function(e) {
        var el;
        el = $(e.target);
        if (el.hasClass('task-description')) {
          console.log("DESCRIPTION: " + (el.text()));
          return _this.fixTextAlignment(el);
        }
      });
      $(document.body).on('change', 'input', function(e) {
        console.log('CHANGE!');
        return console.log(e.target);
      });
    }

    BetterKanbanflow.prototype.fixTextAlignment = function(el) {
      if (/^[א-ת]/.test(el.text())) {
        return el.css('direction', 'rtl');
      }
    };

    return BetterKanbanflow;

  })();

  $(function() {
    return window.better = new BetterKanbanflow();
  });

}).call(this);
